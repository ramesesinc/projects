<workunit extends="wtemplates/gov/bp/ReportController.xml" >
    <invokers>
        <invoker folderid="/explorer/report/bpls" action="init" role="REPORT" 
            caption="Employer Listing" target="window" index="-90"/>
    </invokers>
    
    <code>
    <![CDATA[
import com.rameses.rcp.common.*;
import com.rameses.rcp.annotations.*;
import com.rameses.osiris2.common.*;
import com.rameses.osiris2.client.*;
import com.rameses.osiris2.reports.*;

public class EmployerListReportController extends com.rameses.etracs.shared.ReportController 
{
    @Service('BPEmployerListReportService')
    def svc;

    String title = "List of Employers";
    String reportpath = 'com/rameses/gov/etracs/bpls/reports/'
    String reportName = reportpath + 'EmployerList.jasper' 

    def formControl = [
        getFormControls: {
            return [
                new FormControl( "integer", [caption:'Year', name:'entity.year', required:true, preferredSize:'100,20', captionWidth:100])
            ]    
        },
    ] as FormPanelModel; 

    def getReportData(){
        return svc.getReport( entity ); 
    }

    Map getParameters(){
        return [ YEAR : entity.year ] 
   }
}
    ]]>
    </code>
    
</workunit>