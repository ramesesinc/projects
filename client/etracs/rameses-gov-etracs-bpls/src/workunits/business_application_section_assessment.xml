<workunit>
    
    <invokers>
        <invoker type="business_application:section" caption="Assessment" index="1" action="load"/>
        
        <!-- toolbars -->
        <invoker type="formActions" caption="Assess" role="ASSESSOR" action="calculate"
             visibleWhen="#{!caller.prevmode?.contains('assessment') &amp;&amp; task.state.contains('assessment') &amp;&amp; task?.owner==true}"/>
            
        <invoker type="formActions" caption="Edit" action="showEditMenu" icon="images/toolbars/edit.png"
             visibleWhen="#{!caller.prevmode?.contains('assessment') &amp;&amp; task.state.contains('assessment') &amp;&amp; task?.owner==true}"/> 
             
        <invoker type="formActions" caption="Capture Assess" role="ASSESSOR,ADMIN" action="calculate" 
             visibleWhen="#{entity.txnmode.matches('CAPTURE|LATERENEWAL')}"/> 
        <invoker type="formActions" caption="Capture Edit" role="ADMIN" action="showEditMenu" 
             visibleWhen="#{entity.txnmode.matches('CAPTURE|LATERENEWAL')}" icon="images/toolbars/edit.png"/> 

        <!--     
        <invoker type="formActions" caption="Preview" role="ASSESSOR" action="preview"
             visibleWhen="#{!caller.prevmode?.contains('assessment') &amp;&amp; task.state.contains('assessment') &amp;&amp; task?.owner==true}"/>
        -->     

        <!--
        <invoker type="formActions" caption="Advance Billing" action="doAdvanceBill" 
                 visibleWhen="#{task?.state == 'approval' || task?.state=='payment' || task?.state=='release' || entity.state == 'COMPLETED'}"/>
        -->         

        <invoker type="formActions" caption="Print" action="printAssessment" 
                 visibleWhen="#{entity.taxfees.size() &gt; 0}"/>
        
        <!--
        <invoker type="formActions" caption="Print" action="printAssessment" 
                 visibleWhen="#{entity.state.toString().matches('COMPLETED|PAYMENT|RELEASE')==true}"/>
        -->
                 
        <invoker type="formActions" caption="Refresh" index="0" action="refresh" />

        <!--
        <invoker type="formActions" caption="Run Bill" action="runBill" role="ASSESSOR"
                 visibleWhen="#{entity.state == 'COMPLETED'}"/>
        -->
        <invoker type="formActions" caption="Payment" action="showPayMenu" role="ADMIN" 
                 visibleWhen="#{task?.state == 'payment' || task?.state == 'release' || entity.state=='COMPLETED' }"/> 

        <!--invoker type="formActions" caption="Gross Information" action="viewGrossInformation"  
                 visibleWhen="#{task?.state != 'assign-assessor' &amp;&amp; entity?.apptype.toUpperCase().matches('RENEW|RETIRE')==true}"
                 role="ASSESSOR,APPROVER" target="popup" /--> 
                 
        <invoker type="formActions" caption="Info History" action="viewInfoHistory" target="popup" />
                 
    </invokers>
    
    <code class="com.rameses.gov.etracs.bpls.models.BusinessApplicationAssessmentModel" />
    
    <pages>
        <page template="com.rameses.gov.etracs.bpls.view.AssessmentInfoPage"/>
    </pages>
    
</workunit>