<workunit extends="com/rameses/seti2/templates/FormReport.xml" >
    <invokers>
       <invoker type="collectionvoucher:reports" caption="Abstract of Collection (SRE)" 
            reportId="collectionvoucher_report_abstract"
            action="initSRE" index="20" target="self"
            reportName="com/rameses/gov/treasury/collectionvoucher/report/collectionvoucher_abstract_crosstab.jasper" />

            <invoker type="collectionvoucher:reports" caption="Abstract of Collection (PPSAS)" 
            reportId="collectionvoucher_report_abstract"
            action="initPPSAS" index="21" target="self"
            reportName="com/rameses/gov/treasury/collectionvoucher/report/collectionvoucher_abstract_crosstab.jasper" />
       
        <invoker type="formActions" caption="Back" action="_close" mnemonic="b" shortcut="ctrl B" icon="images/toolbars/arrow_left.png"/>
   </invokers>
   
   <code>
        <![CDATA[
        import com.rameses.osiris2.common.*;
        import com.rameses.rcp.common.*;
        import com.rameses.rcp.annotations.*;
        import java.rmi.server.*;
        import com.rameses.osiris2.client.*;
        import com.rameses.util.*;
        import com.rameses.osiris2.reports.*;
        import com.rameses.seti2.models.*;
       
        class AbstractCollectionReport extends FormReportModel {
            
            def initReport() {
                headers = [:];
                headers.CONTROLNO = caller?.entity?.controlno;
                query.objid = caller?.entity?.objid;
                def r = preview();
                mode = "default";
                return r;
            }
            
            def initPPSAS() {
                query.acctgroupid = 'PPSAS'
                return initReport();
            }
            
            def initSRE() {
                query.acctgroupid = 'SRE'
                return initReport();
            }
                        
        }
        ]]>      
   </code>
</workunit>