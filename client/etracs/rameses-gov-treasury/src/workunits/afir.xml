<!-- REQUISITION ISSUE SLIP -->
<workunit schemaName="afir">
    <invokers>
        <invoker folderid="menucategory/treasury/af" 
                 caption="AF Issue/Receipt" formTitle="AF Issue/Receipt" action="start" role="AFO"/>
        
        <invoker type="afir:create" 
                 caption="New AF Issue/Receipt" formTitle="New AF IR" action="start" role="AFO"/>
        
        <invoker type="afir:open" 
                 caption="AF Issue/Receipt" formTitle="AF Issue/Receipt" action="startOpen" role="AFO"/>
        
        <invoker type="navActions" caption="Assign Available Stock" action="assignAvailableStock"/> 
    </invokers>
    
    <code class="com.rameses.enterprise.treasury.models.AFIRModel" />
    
    <pageflow>
        <start>
            <transition to="initial" name="default" />
            <transition to="view" name="open"/>
        </start>
        <page name="initial" title="New Accountable Form Issue/Receipt" action="create">
            <transition to="entry" caption="Next"  action="initNew" immediate="false"/>
        </page>
        <page name="entry" title="Enter Qty and Details">
            <transition to="initial" caption="Back" />
            <transition to="view" caption="Next" action="saveCreate" immediate="false"/>
        </page>
        <page name="view" title="Accountable Form Issuance" action="open">
            <transition to="end" caption="Post" confirm="This will immediately update the inventory. Proceed?" action="post"/>
        </page>
        <end/>
    </pageflow>
    
    <pages>
        <page name="initial" template="com.rameses.enterprise.treasury.views.AFIRInitialPage" />
        <page name="entry"   template="com.rameses.enterprise.treasury.views.AFIREnterQtyPage" />
        <page name="view"    template="com.rameses.enterprise.treasury.views.AFIRPage" />
    </pages>
    
</workunit>