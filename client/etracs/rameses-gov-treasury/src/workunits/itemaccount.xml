<workunit schemaName="itemaccount">
    <invokers>
        <invoker type="itemaccount:create" caption="Item Account" action="create" 
                 role="MASTER" permission="itemaccount.create" target="popup"/>
        
        <invoker type="itemaccount:open" caption="Item Account" action="open" 
                 role="MASTER" permission="itemaccount.read" target="popup"
                 formId="#{entity.objid}" formTitle="Item: #{entity.code}"/>

        <invoker type="formActions" caption="Activate" action="activate" 
                 role="MASTER" permission="itemaccount.update" 
                 visibleWhen="#{mode == 'read' &amp;&amp; entity.state != 'ACTIVE' }"/> 
                 
        <invoker type="formActions" caption="Deactivate" action="deactivate" 
                 role="ADMIN" permission="itemaccount.deactivate" 
                 visibleWhen="#{mode == 'read' &amp;&amp; entity.state == 'ACTIVE' }"/>  

        <!-- ADMIN -->                          
        <invoker type="formActions" 
                 caption="Shift To Subaccount" 
                 action="changeToSubAccount" 
                 role="ADMIN"  
                 visibleWhen="#{entity.state!='DRAFT' &amp;&amp; mode=='read' &amp;&amp; entity.parentid == null}"/> 
                 
        <invoker type="formActions" 
                 caption="Shift Acct Type" 
                 action="changeType" 
                 role="ADMIN"  
                 visibleWhen="#{entity.state!='DRAFT' &amp;&amp; mode=='read' &amp;&amp; entity.parentid == null}"/>           

    </invokers> 
   
    <code class="com.rameses.enterprise.treasury.models.ItemAccountModel" />
    
    <pages>
        <page template="com.rameses.enterprise.treasury.views.ItemAccountPage"/>
    </pages>
</workunit>