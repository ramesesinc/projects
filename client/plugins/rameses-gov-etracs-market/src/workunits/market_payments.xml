<workunit extends="com/rameses/seti2/templates/CrudList.xml" 
          schemaName="market_payment"
          cols="refno,refdate,amount,fromdate,todate,voided"
          orderBy="refdate">
    <invokers>
        <invoker type="market_account:section" 
                 caption="Payments" action="init" visibleWhen="#{mode!='create'}"/>
        
    </invokers>
    <code>
        <![CDATA[
        import com.rameses.rcp.common.*
        import com.rameses.rcp.annotations.*
        import com.rameses.osiris2.client.*
        import com.rameses.osiris2.common.*
        import com.rameses.seti2.models.*;
            
        class MarketPayment extends CrudListModel {
            
            void initColumn( def o ) {
                if(o.name == 'voided') {
                    o.type = 'checkbox';
                    o.checkedValue = 1;
                    o.uncheckedValue = 0;
                }    
            }
             
            def getFindBy() {
                return [acctid: caller.entityContext.objid ]; 
            }
        
        }
        ]]>
    </code>    
</workunit>