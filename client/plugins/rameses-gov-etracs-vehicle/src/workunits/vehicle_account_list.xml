<workunit extends="com/rameses/seti2/templates/CrudList.xml" schemaName="vehicle_account">
    <invokers>
        <invoker folderid="home/vehicle" caption="Vehicle Account" action="init" 
            cols="acctno,operator.name,regdate" />
    </invokers>
    <code>
        <![CDATA[
        
        import com.rameses.rcp.annotations.*;
        import com.rameses.rcp.common.*;
        import com.rameses.seti2.models.*;
        import com.rameses.osiris2.common.*;
        import com.rameses.rcp.common.*;
        import com.rameses.osiris2.client.*;
        import com.rameses.util.*;
        import com.rameses.gov.etracs.vehicle.models.*;
            
        class VehicleAccountList extends VehicleListFilter {
            def create() {
                if(!query.txntype?.objid)
                    throw new Exception("Please select a txntype");
                def t = query.txntype.objid.toLowerCase();
                def op = Inv.lookupOpener( "vehicle_account:"+t+":create", [txntype:query.txntype] );
                op.target = 'window';
                return op;
            }
        } 
        ]]>        
        
    </code>
    <pages>
        <page name="queryForm" template="com.rameses.gov.etracs.vehicle.views.VehicleQueryForm"/>
    </pages>    
</workunit>
