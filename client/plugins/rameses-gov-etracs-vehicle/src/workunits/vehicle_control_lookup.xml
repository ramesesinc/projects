<workunit extends="com/rameses/seti2/templates/CrudLookup.xml" schemaName="vehicle_control">
    <invokers>
        <invoker type="vehicle_control:available:lookup" 
                 caption="Select Available Franchise" 
                 orderBy="controlno"
                 cols="controlno,currentaccount.owner.name,currentaccount.particulars,currentacctid"
                 action="init"/>
    </invokers>
    <code>
        <![CDATA[
        
        import com.rameses.seti2.models.*;
        
        class VehicleControlLookup extends CrudLookupModel {
        
            def txntype;
            
            public def getCustomFilter() {
                println "xtntype is " + txntype.objid;
                return ["txntypeid=:type", [type: txntype?.objid]]; 
            }
        }
        
        ]]>
    </code>
</workunit>
