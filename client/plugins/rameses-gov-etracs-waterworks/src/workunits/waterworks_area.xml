<workunit schemaName="waterworks_area">
    <invokers>
        <invoker type="waterworks_area:create" caption="Waterworks Area" action="create" target="popup" srole="MASTER"/>
        <invoker type="waterworks_area:open" caption="Waterworks Area" action="open" target="popup" srole="MASTER"/>
    </invokers>
    <code>
    <![CDATA[
import com.rameses.rcp.common.*;
import com.rameses.rcp.annotations.*;
import java.rmi.server.*;
import com.rameses.osiris2.client.*;
import com.rameses.util.*;
import com.rameses.osiris2.reports.*;

class WaterworksAreaModel extends com.rameses.seti2.models.CrudFormModel {

    def getLookupZones() { 
        def params = ['query.sectorid': entity.sectorid, 'query.areaid': entity.objid ];  
        params.onselect = { o-> 
            println o; 
        }
        return Inv.lookupOpener('waterworks_unassign_sector_zone:lookup', params);
    }
}
    ]]>
    </code>
    
    <pages>
        <page template="com.rameses.gov.etracs.waterworks.views.WaterworksAreaPage"/>
    </pages>
</workunit>