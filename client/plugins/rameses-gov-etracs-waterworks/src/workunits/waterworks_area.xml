<workunit>
    <invokers>
        <invoker type="waterworks_area:create" caption="Area" action="create" target="popup" srole="MASTER"/>
        <invoker type="waterworks_area:open" caption="Area" action="open" target="popup" srole="MASTER"/>
    </invokers>
    
    <code>
        <![CDATA[
           import com.rameses.osiris2.common.*;
           import com.rameses.rcp.common.*;
           import com.rameses.rcp.annotations.*;
           import com.rameses.osiris2.client.*;
           import com.rameses.seti2.models.*;

           class AreaController extends SinglePageCrudFormModel{

               def title='Area';
               String schemaName='waterworks_area';
               
               def getLookupUser(){
                    def h = {o ->
                        entity.assignto = [objid:o.objid, name: o.firstname+" "+o.lastname];
                        binding.refresh("entity.*");
                    }
                    return Inv.lookupOpener("user:lookup",[onselect:h]);
               }

           }
        ]]>
    </code>
    
    <pages>
        <page template="com.rameses.gov.etracs.waterworks.views.WaterworksAreaPage"/>
    </pages>
</workunit>