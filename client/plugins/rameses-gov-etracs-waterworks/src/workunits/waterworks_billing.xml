<workunit extends="com/rameses/seti2/templates/CrudReport.xml">
    <invokers>
        <invoker type="waterworks_account:form:formActions" caption="Billing" index="-10" 
            reportName="com/rameses/gov/etracs/waterworks/reports/billing/waterworksbilling.jasper" 
            visibleWhen="#{mode=='read'}"
            action="view"/>
    </invokers>
    <code>
        <![CDATA[
        import com.rameses.rcp.common.*
        import com.rameses.rcp.annotations.*
        import com.rameses.osiris2.client.*
        import com.rameses.osiris2.common.*
        import com.rameses.seti2.models.*;
        import com.rameses.util.*;
        import java.text.*;
        
        class WaterworksBilling extends CrudReportModel {
            
            @Service("WaterworksBillingService2")
            def billSvc;    
        
            def view() {
                def param = [acctid:caller.entityContext.objid];
                entity = billSvc.getBilling(param);
                return super.view();
            }
        }
        ]]>
    </code>    
</workunit>