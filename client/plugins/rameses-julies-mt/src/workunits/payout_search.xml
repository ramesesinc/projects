<workunit>
    <invokers>
        <invoker folderid="/home/mt" caption="Payout" action="init" target="window"/> 
    </invokers>
    
    <code class="com.rameses.julies.mt.models.PayoutSearchModel"/>
    
    <pageflow>
        <start>
            <transition to="search"/>
        </start>
        <page name="search" title="Payout Search">
            <transition to="end" caption="Close" />
            <transition to="test-result" caption="Next" immediate="false" action="fetchList"/>
        </page>
        <process name="test-result">
            <transition to="payout-form" cond="#{ results.size()==1 }" action="loadHandler"/>
            <transition to="result-list" cond="#{ results.size() &gt; 1 }"/>
        </process>  
        <page name="result-list">
            <transition to="search" caption="Back"/>
            <transition to="payout-form" caption="Next" action="loadHandler" depends="selectedItem" visibleWhen="#{selectedItem != null}"/>
        </page>
        <page name="payout-form">  
            <transition to="end" caption="Close" />
            <transition to="submit-form" caption="Submit" action="submit"/>
        </page>        
        <end/>
    </pageflow>
    
    <pages>
        <page name="search" template="com.rameses.julies.mt.views.PayoutSearchInitPage"/>      
        <page name="result-list" template="com.rameses.julies.mt.views.PayoutSearchMatchPage"/> 
        <page name="payout-form" template="com.rameses.julies.mt.views.PayoutSearchHandlerPage"/> 
    </pages>
</workunit>