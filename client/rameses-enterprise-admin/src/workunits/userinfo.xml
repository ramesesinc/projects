<workunit>
    <invokers>
        <invoker type="sys_user:open" action="open" caption="User"  target="popup"/>
        <invoker type="formActions" action="_close" caption="Close" visibleWhen="#{initiator!='create'}"/>
        <invoker type="formActions" action="_exit" caption="Close" visibleWhen="#{initiator=='create'}"/>
        <invoker type="formActions" caption="Edit" action="edit"/>
    </invokers>
    <code class="com.rameses.admin.models.UserModel" />
   
    <!--
    <code>
    <![CDATA[
        import com.rameses.rcp.annotations.*;
        import com.rameses.rcp.common.*;
        import com.rameses.osiris2.client.*;
        import com.rameses.osiris2.common.*;
        import java.rmi.server.*;

        public class UserInfoController  {
        
            @Service("UserService")
            def service;
        
            @Binding
            def binding;
            
            @FormTitle
            def title;
            
            def entity;
            def optionList;
            def selectedOption;
            def initiator = 'edit';
            
            void initList() {
                optionList = Inv.lookupOpeners( "userinfo:option", [entity: entity] );
                if(optionList.size() > 0 ) {
                    selectedOption = optionList[0];
                }
            }
            
            void refresh() {
                title = entity.name;
            }
            
            void open() {
                entity = service.open( [objid: entity.objid]);
                initList();
                refresh();
            }
            
           
           
        }
        
       ]]>
   </code>
   -->
   
   <pages>
       <!--
       <page template="com.rameses.admin.user.UserInfoPage"/>
       -->
       <page template="com.rameses.admin.views.UserPage"/>
   </pages>
</workunit>