import com.rameses.annotations.*
import com.rameses.common.*;
import com.rameses.services.extended.*;

class RPTReportConsolidationService
{
    @ActiveDB('rptreport_consolidation')
    def em

    @ProxyMethod
    public def buildSummaryData( subdivision ) {
    	def items = em.getConsolidations(subdivision)
    	def previtems = em.getConsolidatedLands(subdivision)

    	if (previtems){
    		items << [
    			cadastrallotno 	: 'TOTAL',
    			totalareaha    	: previtems.totalareaha.sum(),
    			totalmv    		: previtems.totalmv.sum(),
    			totalav    		: previtems.totalav.sum(),
    		]
    	}
    	return [
			items : items,
			previtems : previtems 
		]
    }
}
