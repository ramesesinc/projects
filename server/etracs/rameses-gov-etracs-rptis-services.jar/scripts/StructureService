import com.rameses.annotations.*;
import com.rameses.common.*;
import com.rameses.services.extended.*;
import com.rameses.util.*

class StructureService 
{
	@ActiveDB('structurematerial')
	def em

	@ProxyMethod 
	public void updateMaterial(item){
		item.structureid = item.structure.objid 
		item.materialid = item.material.objid 
		em.updateMaterial(item)
	}

	@ProxyMethod
	public def getMaterials( params ) {
		if (!params.searchtext) params.searchtext = ''
		params.searchtext += '%'
		return em.getMaterials(params)
	}

}
