import com.rameses.annotations.*;
import com.rameses.util.*;

class GroupNotificationService
{   
    @Service('NotificationService') 
    def service;

    @ProxyMethod 
    public def getList( params ) { 
        params.recipienttype = 'group'; 
        return service.getList( params ); 
    } 

    @ProxyMethod 
    public def addMessage( params ) { 
        return service.addMessage( params ); 
    } 

    @ProxyMethod 
    public void removeMessage( params ) { 
        service.removeMessage( params ); 
    } 

    @ProxyMethod 
    public void getNotified( params ) {
        if (!params.groups) return;

        params.groups.each { 
            service.notifyMessages([recipientid:it, recipienttype:'group']); 
        } 
    }     
}