import com.rameses.annotations.*;
import java.rmi.server.UID;
import com.rameses.util.*;
import enterprise.utils.*;
import java.rmi.server.*;
import java.util.*;
import vehicle.facts.*;

class VehicleBillingRuleServiceInterceptor {

	@After(pattern="FactBuilderService.getFacts", eval="#{ args[0] == 'vehiclebilling'  }")
	public void buildFacts(def evt) {
		def factBuilder = evt.result; 
		def params = evt.args[1];
		def facts = factBuilder.facts;

		facts << new VehicleApplication([:]);
		
		def vp = new VariableInfoProvider(
			schemaName:"vehicle_variable"
		);
		factBuilder.variableInfoProvider = vp;

		/*
		factBuilder.facts << new VehicleFranchise( data.franchise );
		if( data.application ) {
			factBuilder.facts << new VehicleApplication( data.application );
		}
		else if(data.applications) {
			data.applications.each {
				factBuilder.facts << new VehicleApplication( it );	
			}
		}
		*/
	}

}	