<schema adapter="waterworks">
	<element tablename="waterworks_account_consumption">
		<field name="objid" primary="true"  prefix="WAC"/>
		<complex name="account" jointype="many-to-one" ref="waterworks_account">
			<key field="acctid" target="objid"/>
		</complex>
		<complex name="billingcycle" jointype="many-to-one" ref="waterworks_billing_cycle" 
			includefields="objid,year,month,monthname,readingdate,duedate,disconnectiondate" required="false">
			<key field="billingcycleid" target="objid"/>
		</complex>	
		<field name="prevreading" required="true" caption="PreviousReading"/>
		<field name="reading" required="true" caption="CurrentReading"/>
		<field name="readingmethod" required="true" caption="ReadingMethod"/>
		<field name="reader_objid" required="false"/>
		<field name="reader_name" required="false" caption="ReaderName"/>
		<field name="volume" required="true" caption="Volume"/>

		<field name="amount" type="decimal" caption="Amount"/>
		<field name="amtpaid" type="decimal" caption="Amount Paid"/>
		<field name="balance" expr="amount-amtpaid" type="decimal" caption="Balance"/>

	</element>
</schema>