<schema adapter="waterworks">

	<element tablename="waterworks_account_ledger">
		<field name="objid" primary="true"  prefix="WAL"/>
		<field name="parentid" required="true"/> 

		<complex name="billingcycle" jointype="many-to-one" ref="waterworks_billing_cycle"  
			includefields="objid,year,month,monthname,duedate,disconnectiondate" required="false">
			<key field="billingcycleid" target="objid"/>
		</complex>

		<field name="txntype" required="true" caption="TxnType"/> 
		<field name="item_objid" required="true"/>
		<field name="item_code" required="true" caption="Item Code"/>
		<field name="item_title" required="true" caption="Item Title"/>
		<field name="remarks" caption="Remarks"/>
		<field name="amount" required="true" caption="Amount" datatype="decimal"/>
		<field name="amtpaid" required="true" caption="AmtPaid" datatype="decimal"/>
		
		<complex name="installment" ref="waterworks_installment" required="false" jointype="many-to-one"
			includefields="objid,term,stardate,enddate,downpayment,installmentamount">
			<key field="installmentid" target="objid"/>
		</complex>	
		
		<complex name="consumption" ref="waterworks_account_consumption" jointype="many-to-one" required="false"
			includefields="objid,volume,rate,reading,prevreading">
			<key field="objid" target="ledgerid" />
		</complex>	

	</element>

</schema>