
<schema adapter="waterworks">
	<element tablename="waterworks_batchreading">
		<field name="objid" primary="true" prefix="WTRBRD" />
		<field name="state" required="true"/>
		<field name="readingdate" required="true"/>
		<field name="month" required="true"/>
		<field name="year" required="true"/>
		
		<field name="monthname" expr="MONTH_ARRAY( month )" caption="Month"/>
		
		<complex name="zone" ref="waterworks_zone" jointype="many-to-one" includefields="code,sector.objid,sector.code" required="true">
			<key field="zoneid" target="objid" />
		</complex> 

		<field name="reader_objid" required="true"/>
		<field name="reader_name" required="true"/>
		<field name="dtcreated" required="true"/>
		<field name="createdby_objid" required="true"/>
		<field name="createdby_name" required="true"/>
	</element>
</schema>

