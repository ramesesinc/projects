import com.rameses.annotations.*;

class WaterworksCashReceiptBarcodeServiceInterceptor{
	
	@DataContext("waterworks_account_ledger")
	def ledger;

	@After(pattern="CashReceiptBarcodeService.findPrefix", eval="#{result.prefix == null}", index=1000)
	public void findWaterworksPrefix(def evt) {
		def o = evt.result;
		//try to check first if the barcode exists in account or in application...
		o.prefix = "51030";
		o.acctid = o.barcodeid;
	}


}