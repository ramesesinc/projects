import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;
import com.rameses.common.*;
import com.rameses.services.extended.*;

class ViolationService {

	@DataContext("ovr_violation")
	def ov;

	def getColumns(params){
		return [
			[name:'title', caption:'Title'],
			[name:'section', caption:'Section'],
			[name: 'article', caption: 'Article'],
			[name: 'description', caption: 'Description'],
		];
	}

	@ProxyMethod
	public def getList(def o){
		o.searchtext = o.searchtext ? o.searchtext : '%';
		return ov.where("title LIKE :searchtext",[searchtext:o.searchtext]).list();
	}

	@ProxyMethod
	public def open(def o){
		return ov.find([objid:o.objid]).first();
	}

	@ProxyMethod
	public def create(def o){
		return ov.create(o);
	}

	@ProxyMethod
	public def update(def o){
		return ov.find([objid:o.objid]).update(o);
	}

	@ProxyMethod
	public void removeEntity(def o){
		 ov.find([objid:o.objid]).delete();
	}

}