<schema adapter="waterworks">
	<element tablename="waterworks_account">
		<field name="objid" primary="true"  prefix="WA"/>
		<field name="state"  visible="false" defaultValue="ACTIVE"/>
		<field name="dtstarted" required="false" indexed="true" type="date" caption="Date Started"/>
		<field name="acctno" required="true" indexed="true" caption="Acct No"/>
		<field name="acctname" required="true" indexed="true" caption="Acct Name"/>

		<field name="owner_objid" required="true" visible="false" caption="Owner ID"/>
		<field name="owner_name" required="true" indexed="true" caption="Owner Name"/>
		<field name="address_type" caption="Address Type" visible="false"/>
		<field name="address_text" caption="Address"/>
		<field name="address_barangay_objid" required="true" caption="Barangay ID"/>
		<field name="address_barangay_name" required="true" caption="Barangay"/>
		<field name="address_city" caption="City"/>
		<field name="address_province"  caption="Province"/>
		<field name="address_municipality"  caption="Municipality"/>
		<field name="address_unitno"  caption="Unit No"/>
		<field name="address_street"  caption="Street"/>
		<field name="address_subdivision"  caption="Subdivision"/>
		<field name="address_bldgno" caption="Building No"/>
		<field name="address_bldgname"  caption="Building Name"/>
		<field name="address_pin" caption="PIN"/>
		<field name="mobileno" required="false" caption="Mobile No"/>
		<field name="phoneno" required="false" caption="Phone No"/>
		<field name="email" required="false" caption="Email"/>
		
		<complex name="meter" ref="waterworks_meter" jointype="many-to-one"  required="false">
			<key field="meterid" target="objid"/>
		</complex>
		<complex name="classification" ref="waterworks_classification" jointype="many-to-one">
			<key field="classificationid" target="objid"/>
		</complex>	
		
		<field name="balance" required="false" indexed="true" type="decimal" caption="Balance"/>
		<field name="lastreadingdate" required="false" indexed="true" type="date" caption="Last Reading Date"/>
		<field name="lasttxndate" required="false" indexed="true" type="date" caption="Last Txn Date"/>
		<field name="lastreadingmonth" required="false" indexed="true" type="integer" caption="Last Reading Month"/>
		<field name="lastreadingyear" required="false" indexed="true" type="integer" caption="Last Reading Year"/>
		<field name="lastreading" required="false" indexed="true" type="integer" caption="Last Reading"/>
		<field name="prevreading" required="false" indexed="true" type="integer" caption="Previous Reading"/>

		<!-- These are flag fields to check if the date is subject for disconnection -->
		<field name="disconnectiondate" required="false" />
		<field name="paymentvaliditydate" required="false" />
		<complex name="stubout" ref="waterworks_stubout" jointype="many-to-one" required="false">
			<key field="stuboutid" target="objid"/> 
		</complex>
		<field name="stuboutindex"/> 
	</element>


</schema>