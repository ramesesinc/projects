<schema>
	<element name="remittance" tablename="remittance" >
		<field name="objid" primary="true"/>
		<field name="state" required="true"/>
		<field name="txnno" required="true" caption="Control No" searchable="true"/>
		<field name="remittancedate" required="true"/>
		<field name="dtposted" required="true" caption="Date"/>
		<field name="collector_objid" required="true"/>
		<field name="collector_name" required="true" caption="Collector" searchable="true"/>
		<field name="collector_title" required="true"/>

		<field name="liquidatingofficer_objid" />
		<field name="liquidatingofficer_name"  caption="Liquidating Officer"/>
		<field name="liquidatingofficer_title" />
		<field name="liquidatingofficer_signature"/>

		<field name="amount" required="true" type="decimal" caption="Amount"/>
		<field name="totalcash" required="true" type="decimal" caption="Total Cash"/>
		<field name="totalnoncash" required="true" type="decimal" caption="Total Non Cash"/>
		<complex name="cashbreakdown" required="true" serializer="default" type="list"/>
		<field name="remarks" />
		<field name="signature"/>

		<complex name="liquidation" ref="liquidation_remittance" jointype="many-to-one" includefields="liquidationid,liquidation.txnno" required="false">
			<key field="objid" target="objid" />
		</complex>	

		<field name="liquidated" expr="CASE WHEN liquidation.liquidationid IS NULL THEN 0 ELSE 1 END" />		
	</element>

	<element name="remittance_cashreceipt" tablename="remittance_cashreceipt">
		<field name="objid" primary="true"/>
		<field name="remittanceid" required="true"/>
	</element>

	<element name="remittance_fund" tablename="remittance_fund">
		<field name="objid" primary="true"/>
		<field name="remittanceid" required="true"/>
		<field name="fund_objid" required="true"/>
		<field name="fund_title" required="true"/>
		<field name="amount" required="true"/>
	</element>
	
	<element name="checkpayment" tablename="remittance_noncashpayment">
		<field name="objid" primary="true"/>
		<field name="remittanceid" required="true"/>
	</element>
	
</schema>